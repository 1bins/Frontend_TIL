# 변수 (var/let/const) 차이

📌 *들어가기 전에*,

<img src="https://i.pinimg.com/236x/7f/44/46/7f4446525d03206e30be6f7167e86f36.jpg"/>

클로저를 공부하다가 변수 세 가지의 차이를 명확하게 알게 되었다.
<br>한 번 씩 더 꺼내보고 머릿속에 저장하기 위해 작성해본다.

## 변수 세 가지의 차이점
### var
**함수 스코프**를 가지며, 선언 위치에 상관없이 호이스팅되어 `undefined`로 초기화된다.

### let, const
**블록 스코프**를 가지며, ES6이후 도입된 변수 선언 방식이다.
<br>`let`과 `const`도 호이스팅은 되지만, TDZ라는 일시적 사각지대에 들어가기 때문에 선언 전에 접근하면 `ReferenceError`가 발생한다.

`const`는 **재할당이 불가능한 상수**이며, 선언 시 반드시 초기화가 필요하다.

<br>

## 🔹 함수 스코프 vs 블록 스코프
| 구분     | 함수 스코프(`var`) | 블록 스코프(`let`, `const`) |
|--------|---------------|------------------------|
| 적용 범위  | 전체 함수         | `{}`로 감싸진 블록 안         |
| for문에서 | 같은 변수 공유      | 매 반복마다 새로운 변수          |
| 대표 문제  | 값이 덮여 씌워지는 버그 | 예상한 범위에서만 살아있어 안전함     |

<br>

**클로저에서의 문제**
```
for (var i = 0; i < 3; i++) {
  setTimeout(function () {
    console.log(i);
  }, 1000);
}
// 출력: 3, 3, 3
```
`var`는 함수 스코프라서 `i`가 하나만 존재하고, `setTimeout`내부의 함수가 동일한 `i`를 참조해서 3이 3번 출력된다.
<br>=> `var`를 `let`으로 변경한다