# 간단하게 보는 브라우저 렌더링

📌 *들어가기 전에*,

브라우저 렌더링 과정을 아는 것은 프론트엔드 개발자에게 있어서 가장 기초이다.
<br> 정확한 이해와 다시금 돌아보고 싶어서 이 글을 작성한다.

## 클라이언트와 서버의 통신 과정
1. 브라우저 주소입력창에 `도메인`을 입력한다.
2. `DNS`에서 도메인을 `ip주소`(12.111.11.11)로 변경 해준다.
3. `ip주소`를 가진 서버에서 `html`, `css`, `js`를 응답으로 보내준다.
4. 응답을 받은 브라우저는 `html`, `css`, `js`를 화면에 그려준다.

<br>

## 브라우저 렌더링 과정
1. html 파싱하여 DOM 요소 생성
<br> 중간에 `<script>`를 만나면 파싱이 멈추고 JS실행.
<br>이를 방지하기 위해, `defer`(파싱이 끝나면 JS실행)나 `async`(비동기 처리)를 사용한다
2. css 파싱하여 CSSOM 생성
3. DOM + CSSOM인 렌더 트리를 생성 => 화면에 보여줄 요소들의 구조 완성
4. **레이아웃 계산**: 각 요소의 위치와 크기를 계산
5. **페인팅**: 실제로 요소를 화면에 그리기 시작
6. **컴포지팅**: 각 레이어를 합쳐서 최종 화면을 표시 => 스크롤, 애니메이션 등도 여기서 처리된다

### `DOMContentLoaded` vs `load`
- `DomContentLoaded`: HTML을 다 읽고 DOM 트리 완성되 ㄴ시점
  - 렌더링 전에 실행될 수도 있음
  - 이미지, 폰트, 영상 등의 리소스가 아직 안 불러와졌을 수도 있음
  - 초기화 작업, 이벤트 바인딩, DOM 접근 등에 유리함


- `load`: 컴포지팅까지 완료된 단계에서 실행
  - 이미지, CSS, JS 등 모든 리소스까지 로드 완료된 뒤
  - 주로 로딩 애니메이션 제거, 로딩 스피너 숨기기 등에 사용 